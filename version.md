## ⚾ SSG Fan Community 프로젝트 업데이트 내역
> **마지막 업데이트 : 2025.04.21**

 - 업데이트는 메인 브런치 기준으로 함
   
📌 [트러블슈팅 목록 바로가기](https://github.com/yoon0416/ssgpack/blob/main/%ED%8A%B8%EB%9F%AC%EB%B8%94%EC%8A%88%ED%8C%85.md)  
📌 [버전 기록 보기](./version.md)

---

## 🥉 버전 나누는 기준

> 버전 명명 규칙은 [Semantic Versioning](https://semver.org/lang/ko/) 을 따름

• 버전 = 메이저(Major). 마이너(Minor). 패치(Patch)  
• 의미 = 큰 구조 변경 / 기능 추가 / 버그 수정

| 구분   | 의미                             | 예시 상황                           |
|--------|----------------------------------|--------------------------------------|
| Major  | 전체 구조 변경, 호환성 깨짐     | DB 리팩토링, API 구조 전면 수정 등   |
| Minor  | 새로운 기능 추가 (기존 기능 유지) | 관리자 페이지, 투표 기능 추가 등    |
| Patch  | 버그 수정, 기능 개선            | 권한 표기 오류, 시큐리티 조건 수정 등 |

---

## 📙 버전별 업데이트 내역

### SSG v1.0.0 (2025.04.20)
- 🔹 메인 브랜치 기준 첫 통합 버전
- 🔹 게시판(board) + 메인(main) 템플릿 연동
- 🔹 사용자 마이페이지 (`/user/mypage`) 구현
  - 닉네임, 이메일, 권한 표시 기능
- 🔹 Spring Security 기반 사용자 인증/인가 구현
  - `UserRole` enum 도입 및 권한별 URL 접근 설정
- 🔹 관리자 대시보드 (`/admin/dashboard`) 페이지 생성
  - 마스터 관리자는 모든 관리자 메뉴 접근 가능
  - 각 관리자별 메뉴 노출 제어 (선수관리자, 게시판관리자 등)
---
### ssg v1.1.0(2025.04.21)
-🔹게시판 댓글기능 추가

---
### SSG v1.1.1 (2025.04.21)
- 🔹 게시판 접근 제어 로직 적용 (`SecurityConfig`, `BoardController`)
  - 비로그인 사용자는 글쓰기/수정/삭제 불가
  - 글 상세보기(`/board/view`)는 누구나 접근 가능
- 🔹 Thymeleaf에서 수정/삭제 버튼 노출 조건 개선
  - 로그인한 작성자에게만 버튼 노출
- 🔹 view.html 병합 충돌 해결 및 정리
- 🔹 게시판 보안 정책 리팩토링 (작성자 체크 포함)
1. 당장 수정해야할 것:
   - ver1.1.1 view 컨텐츠+푸터 짤림 수정필요 ㅠ (수정완료)
---
### SSG v1.2.0 (2025.04.21)
- 🔹 게시판 좋아요(♥) 기능 추가
  - 로그인한 사용자는 좋아요/취소 가능
  - 비로그인 사용자는 누르면 로그인 페이지로 이동
  - 게시글 별 좋아요 수 출력 (`list`, `view`, `admin/board/list/view` 등 반영)
- 🔹 Like 엔티티/서비스/컨트롤러 분리 설계
  - 복합키 기반(`@IdClass`) 엔티티 적용
  - `LikeService`에서 toggleLike 로직 정리
- 🔹 로그인 안 된 사용자 좋아요 요청 시 NullPointerException 방지
  - 로그인 안 되어 있으면 `/user/login`으로 리디렉션 처리
- 🔹 관리자 페이지에서도 게시글 좋아요 수 확인 가능
1. 당장 수정해야할 것:
   - 현재 공지사항을 올릴 시 공지사항처럼 안보이고 일반 게시물처럼 보임 + 공지사항은 맨 위에 뜨게
   - 
---
SSG v1.3.0 (2025.04.22)
🔹 카카오 로그인 기능 도입 (OAuth2 기반)

KakaoLoginService, KakaoLoginController 모듈 분리 구성

카카오 API 연동하여 access token 발급 후 사용자 정보 조회

이메일 미제공 시 kakaouser랜덤번호@kakao.com 형식으로 임시 이메일 자동 생성

🔹 카카오 로그인 사용자 자동 회원가입 처리

기존 회원(email 중복 시)과 연동하여 로그인

중복 방지를 위해 email, kakao_id는 유니크 설정 유지, nick_name은 유니크 해제

🔹 닉네임 중복 문제 해결

nick_name 유니크 제약 해제 (@Column(unique = false))

기존 DB 인덱스는 직접 ALTER TABLE user DROP INDEX ... 쿼리로 삭제

🔹 Spring Security 수동 인증 처리

로그인 성공 시 SecurityContextHolder에 직접 사용자 인증 객체 등록

🛠 기타 개선

사용자 IP 자동 기록 기능 유지 (user.setIp())

---

> 🚨 **예정된 다음 버전 주요 계획**
- 댓글도 시큐리티 적용해야함
- 관리자별 페이지 구현  
  + 팀원별 기능 정리 및 통합 작업 예정
- 각 파트 기능 합칠 예정
- ui 이쁘게! 웹접근성? 맞게!
