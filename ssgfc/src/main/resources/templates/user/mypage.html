<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/Layout}">
<head>
  <meta charset="UTF-8">
  <title>마이페이지</title>
  <style>
    body {
      background-color: #ffffff;
      font-family: 'Noto Sans KR', sans-serif;
      margin: 0;
      padding: 0;
    }

    .mypage-container {
      max-width: 600px;
      margin: 60px auto;
      padding: 40px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    }

    .mypage-title {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 32px;
      color: #222;
      border-left: 4px solid #C8102E;
      padding-left: 12px;
    }

    .mypage-item {
      display: flex;
      justify-content: space-between;
      padding: 16px 0;
      font-size: 16px;
      color: #444;
      border-bottom: 1px solid #eee;
    }

    .mypage-label {
      font-weight: 600;
    }

    .mypage-buttons {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 30px;
    }

    .btn {
      padding: 10px 20px;
      font-size: 14px;
      font-weight: 500;
      border-radius: 8px;
      text-decoration: none;
      border: none;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }

    .btn-outline-primary {
      background-color: #e9f2ff;
      color: #0d6efd;
    }

    .btn-outline-primary:hover {
      background-color: #d0e7ff;
    }

    .btn-outline-danger {
      background-color: #ffe9e9;
      color: #dc3545;
    }

    .btn-outline-danger:hover {
      background-color: #ffd6d6;
    }

    .btn-outline-secondary {
      background-color: #f1f1f1;
      color: #555;
    }

    .btn-outline-secondary:hover {
      background-color: #e1e1e1;
    }
  </style>
</head>
<body>
  <div layout:fragment="content">
    <div class="mypage-container">

      <div class="mypage-title">마이페이지</div>

      <div class="mypage-item">
        <span class="mypage-label">이메일</span>
        <span class="mypage-value" sec:authentication="principal.username"></span>
      </div>

      <div class="mypage-item">
        <span class="mypage-label">닉네임</span>
        <span class="mypage-value" th:text="${user.nick_name}"></span>
      </div>

      <div class="mypage-item">
        <span class="mypage-label">권한</span>
        <span class="mypage-value" th:text="${roleName}"></span>
      </div>

      <div class="mypage-buttons">
        <a th:href="@{/admin/dashboard}"
           class="btn btn-outline-primary"
           sec:authorize="hasAnyAuthority('ROLE_MASTER', 'ROLE_USER_MANAGER', 'ROLE_PLAYER_MANAGER', 'ROLE_BOARD_MANAGER', 'ROLE_GAME_MANAGER')">
          🔧 관리자 페이지
        </a>
        <a th:href="@{/user/logout}" class="btn btn-outline-danger">로그아웃</a>
        <a th:href="@{/main}" class="btn btn-outline-secondary">메인으로</a>
      </div>

    </div>
  </div>
</body>
</html>
